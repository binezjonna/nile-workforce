<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Nile Work Force - Egypt's Premier Job Portal</title>
    <!-- Google Fonts for Arabic -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CDN (default LTR; toggled via JS) -->
    <link id="bootstrap-css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body { font-family: 'Arial', sans-serif, 'Noto Sans Arabic'; background-color: #f8f9fa; }
        .hero { background: linear-gradient(to right, #007bff, #00bfff); color: white; padding: 100px 0; text-align: center; }
        .job-card { margin-bottom: 20px; }
        section { padding: 50px 0; }
        #jobs, #apply, #admin { display: none; } /* Home shows by default */
        .form-control { margin-bottom: 15px; }
        footer { background: #007bff; color: white; padding: 20px; text-align: center; }
        [dir="rtl"] { text-align: right; font-family: 'Noto Sans Arabic', sans-serif; }
    </style>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
</head>
<body dir="ltr">
    <header class="bg-light py-3">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="#">Nile Work Force</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" onclick="showSection('home')" data-i18n="home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" onclick="showSection('jobs')" data-i18n="jobs">Jobs</a></li>
                        <li class="nav-item"><a class="nav-link" onclick="showSection('apply')" data-i18n="apply">Apply</a></li>
                        <li class="nav-item"><a class="nav-link" onclick="showSection('admin')" data-i18n="admin">Admin</a></li>
                        <li class="nav-item"><a class="nav-link" onclick="changeLanguage('en')">English</a></li>
                        <li class="nav-item"><a class="nav-link" onclick="changeLanguage('ar')">عربي</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <section id="home" class="hero">
        <div class="container">
            <h1 data-i18n="welcome">Welcome to Nile Work Force</h1>
            <p data-i18n="gateway">Your free gateway to jobs in Egypt's hotels, resorts, companies, and factories. No fees for job seekers!</p>
            <button class="btn btn-light" onclick="showSection('jobs')" data-i18n="browse_jobs">Browse Jobs</button>
        </div>
    </section>

    <section id="jobs">
        <div class="container">
            <h2 data-i18n="available_jobs">Available Jobs in Egypt</h2>
            <div class="row">
                <div class="col-md-6 col-lg-4">
                    <div class="card job-card">
                        <div class="card-body">
                            <h5 class="card-title" data-i18n="hotel_manager_title">Hotel Manager - Cairo Hotel Group</h5>
                            <p class="card-text" data-i18n="hotel_manager_desc">Sector: Hotels | Location: Cairo | 5+ years exp.</p>
                            <button class="btn btn-primary" onclick="showApply('Hotel Manager')" data-i18n="apply">Apply</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card job-card">
                        <div class="card-body">
                            <h5 class="card-title" data-i18n="resort_coordinator_title">Resort Coordinator - Sharm El Sheikh Resorts</h5>
                            <p class="card-text" data-i18n="resort_coordinator_desc">Sector: Resorts | Location: Sharm El Sheikh | Multilingual preferred.</p>
                            <button class="btn btn-primary" onclick="showApply('Resort Coordinator')" data-i18n="apply">Apply</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card job-card">
                        <div class="card-body">
                            <h5 class="card-title" data-i18n="factory_supervisor_title">Factory Supervisor - Nile Manufacturing</h5>
                            <p class="card-text" data-i18n="factory_supervisor_desc">Sector: Factories | Location: Alexandria | Safety certs required.</p>
                            <button class="btn btn-primary" onclick="showApply('Factory Supervisor')" data-i18n="apply">Apply</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card job-card">
                        <div class="card-body">
                            <h5 class="card-title" data-i18n="corporate_analyst_title">Corporate Analyst - Egyptian Tech Co.</h5>
                            <p class="card-text" data-i18n="corporate_analyst_desc">Sector: Companies | Location: Giza | Analytical skills.</p>
                            <button class="btn btn-primary" onclick="showApply('Corporate Analyst')" data-i18n="apply">Apply</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="apply">
        <div class="container">
            <h2 data-i18n="apply_job">Apply for a Job</h2>
            <form id="applicationForm">
                <input type="text" id="name" class="form-control" data-i18n-placeholder="name_placeholder" placeholder="Name" required>
                <input type="email" id="email" class="form-control" data-i18n-placeholder="email_placeholder" placeholder="Email" required>
                <input type="tel" id="phone" class="form-control" data-i18n-placeholder="phone_placeholder" placeholder="Phone">
                <input type="url" id="resume" class="form-control" data-i18n-placeholder="resume_placeholder" placeholder="Resume Link" required>
                <input type="text" id="job" class="form-control" data-i18n-placeholder="job_placeholder" placeholder="Applying for" required>
                <button type="submit" class="btn btn-primary" data-i18n="submit">Submit</button>
            </form>
        </div>
    </section>

    <section id="admin">
        <div class="container">
            <h2 data-i18n="admin_dashboard">Admin Dashboard</h2>
            <div id="loginForm">
                <input type="email" id="adminEmail" class="form-control" data-i18n-placeholder="admin_email_placeholder" placeholder="Admin Email" required>
                <input type="password" id="adminPassword" class="form-control" data-i18n-placeholder="password_placeholder" placeholder="Password" required>
                <button onclick="adminLogin()" class="btn btn-primary" data-i18n="login">Login</button>
            </div>
            <div id="applicants" style="display:none;">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th data-i18n="name">Name</th>
                            <th data-i18n="email">Email</th>
                            <th data-i18n="phone">Phone</th>
                            <th data-i18n="resume">Resume</th>
                            <th data-i18n="job">Job</th>
                            <th data-i18n="timestamp">Timestamp</th>
                        </tr>
                    </thead>
                    <tbody id="applicantsTableBody"></tbody>
                </table>
                <button onclick="adminLogout()" class="btn btn-secondary" data-i18n="logout">Logout</button>
            </div>
        </div>
    </section>

    <footer>
        <p data-i18n="copyright">&copy; 2025 Nile Work Force. Focused on Egypt. All rights reserved.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Translations object
        const translations = {
            en: {
                title: "Nile Work Force - Egypt's Premier Job Portal",
                home: "Home",
                jobs: "Jobs",
                apply: "Apply",
                admin: "Admin",
                welcome: "Welcome to Nile Work Force",
                gateway: "Your free gateway to jobs in Egypt's hotels, resorts, companies, and factories. No fees for job seekers!",
                browse_jobs: "Browse Jobs",
                available_jobs: "Available Jobs in Egypt",
                hotel_manager_title: "Hotel Manager - Cairo Hotel Group",
                hotel_manager_desc: "Sector: Hotels | Location: Cairo | 5+ years exp.",
                resort_coordinator_title: "Resort Coordinator - Sharm El Sheikh Resorts",
                resort_coordinator_desc: "Sector: Resorts | Location: Sharm El Sheikh | Multilingual preferred.",
                factory_supervisor_title: "Factory Supervisor - Nile Manufacturing",
                factory_supervisor_desc: "Sector: Factories | Location: Alexandria | Safety certs required.",
                corporate_analyst_title: "Corporate Analyst - Egyptian Tech Co.",
                corporate_analyst_desc: "Sector: Companies | Location: Giza | Analytical skills.",
                apply_job: "Apply for a Job",
                name_placeholder: "Name",
                email_placeholder: "Email",
                phone_placeholder: "Phone",
                resume_placeholder: "Resume Link",
                job_placeholder: "Applying for",
                submit: "Submit",
                admin_dashboard: "Admin Dashboard",
                admin_email_placeholder: "Admin Email",
                password_placeholder: "Password",
                login: "Login",
                name: "Name",
                email: "Email",
                phone: "Phone",
                resume: "Resume",
                job: "Job",
                timestamp: "Timestamp",
                logout: "Logout",
                copyright: "&copy; 2025 Nile Work Force. Focused on Egypt. All rights reserved."
            },
            ar: {
                title: "قوة عمل النيل - بوابة التوظيف الرائدة في مصر",
                home: "الرئيسية",
                jobs: "الوظائف",
                apply: "تقدم",
                admin: "الإدارة",
                welcome: "مرحبا بك في قوة عمل النيل",
                gateway: "بوابتك المجانية للوظائف في فنادق مصر والمنتجعات والشركات والمصانع. مجاني للباحثين عن عمل!",
                browse_jobs: "تصفح الوظائف",
                available_jobs: "الوظائف المتاحة في مصر",
                hotel_manager_title: "مدير فندق - مجموعة فنادق القاهرة",
                hotel_manager_desc: "القطاع: الفنادق | الموقع: القاهرة | خبرة 5+ سنوات.",
                resort_coordinator_title: "منسق منتجع - منتجعات شرم الشيخ",
                resort_coordinator_desc: "القطاع: المنتجعات | الموقع: شرم الشيخ | متعدد اللغات مفضل.",
                factory_supervisor_title: "مشرف مصنع - تصنيع النيل",
                factory_supervisor_desc: "القطاع: المصانع | الموقع: الإسكندرية | شهادات السلامة مطلوبة.",
                corporate_analyst_title: "محلل شركات - شركة التكنولوجيا المصرية",
                corporate_analyst_desc: "القطاع: الشركات | الموقع: الجيزة | مهارات تحليلية.",
                apply_job: "تقدم لوظيفة",
                name_placeholder: "الاسم",
                email_placeholder: "البريد الإلكتروني",
                phone_placeholder: "الهاتف",
                resume_placeholder: "رابط السيرة الذاتية",
                job_placeholder: "التقدم لـ",
                submit: "إرسال",
                admin_dashboard: "لوحة الإدارة",
                admin_email_placeholder: "بريد الإدارة",
                password_placeholder: "كلمة المرور",
                login: "تسجيل الدخول",
                name: "الاسم",
                email: "البريد الإلكتروني",
                phone: "الهاتف",
                resume: "السيرة الذاتية",
                job: "الوظيفة",
                timestamp: "الطابع الزمني",
                logout: "تسجيل الخروج",
                copyright: "&copy; 2025 قوة عمل النيل. مركز على مصر. جميع الحقوق محفوظة."
            }
        };

        // Function to update content and placeholders
        function updateContent(lang) {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                el.innerHTML = translations[lang][key];
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = translations[lang][key];
            });
            document.title = translations[lang].title;
        }

        // Change language
        function changeLanguage(lang) {
            localStorage.setItem('language', lang);
            const bootstrapLink = document.getElementById('bootstrap-css');
            if (lang === 'ar') {
                document.documentElement.lang = 'ar';
                document.body.dir = 'rtl';
                bootstrapLink.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css';
            } else {
                document.documentElement.lang = 'en';
                document.body.dir = 'ltr';
                bootstrapLink.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css';
            }
            updateContent(lang);
        }

        // On load
        window.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('language') || 'en';
            changeLanguage(savedLang);
            showSection('home');
        });

        // Firebase Config - Replace with yours
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }

        function showApply(jobTitle) {
            showSection('apply');
            document.getElementById('job').value = jobTitle;
        }

        document.getElementById('applicationForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const data = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                resume: document.getElementById('resume').value,
                job: document.getElementById('job').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            db.collection('applications').add(data).then(() => {
                alert(translations[document.documentElement.lang].submitted || 'Submitted!');
                showSection('home');
            }).catch(err => alert('Error: ' + err.message));
        });

        function adminLogin() {
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            auth.signInWithEmailAndPassword(email, password).then(() => {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('applicants').style.display = 'block';
                loadApplicants();
            }).catch(err => alert('Login failed: ' + err.message));
        }

        function loadApplicants() {
            const tbody = document.getElementById('applicantsTableBody');
            tbody.innerHTML = '';
            db.collection('applications').orderBy('timestamp', 'desc').get().then(snapshot => {
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const row = `<tr>
                        <td>${data.name}</td>
                        <td>${data.email}</td>
                        <td>${data.phone || 'N/A'}</td>
                        <td><a href="${data.resume}" target="_blank">View</a></td>
                        <td>${data.job}</td>
                        <td>${data.timestamp ? data.timestamp.toDate().toLocaleString() : 'N/A'}</td>
                    </tr>`;
                    tbody.innerHTML += row;
                });
            }).catch(err => alert('Error: ' + err.message));
        }

        function adminLogout() {
            auth.signOut().then(() => {
                document.getElementById('loginForm').style.display = 'block';
                document.getElementById('applicants').style.display = 'none';
            });
        }
    </script>
</body>
</html>
