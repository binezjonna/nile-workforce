require('dotenv').config();
const express = require('express');
const mongoose = require('mongoose');
const session = require('express-session');
const multer = require('multer');
const path = require('path');
const bcrypt = require('bcryptjs');

const app = express();
const PORT = process.env.PORT || 3000;

// Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
mongoose.connect(process.env.MONGODB_URI, { 
  useNewUrlParser: true, 
  useUnifiedTopology: true 
})
.then(() => console.log('âœ… Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ø¬Ø­'))
.catch(err => console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:', err));

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
app.use(express.urlencoded({ extended: true }));
app.use(express.static('public'));
app.set('view engine', 'ejs');
app.use(session({
  secret: process.env.SESSION_SECRET,
  resave: false,
  saveUninitialized: false,
  cookie: { maxAge: 24 * 60 * 60 * 1000 } // 24 Ø³Ø§Ø¹Ø©
}));

// Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
app.use('/', require('./routes/auth'));
app.use('/jobs', require('./routes/jobs'));
app.use('/admin', require('./routes/admin'));

// Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
app.get('/', (req, res) => {
  res.render('index', { 
    user: req.session.user,
    message: req.query.applied ? 'ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!' : null
  });
});

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
app.listen(PORT, () => {
  console.log(`ğŸš€ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰: http://localhost:${PORT}`);
});const mongoose = require('mongoose');

const UserSchema = new mongoose.Schema({
  name: { type: String, required: true },
  email: { type: String, required: true, unique: true },
  password: { type: String, required: true },
  role: { 
    type: String, 
    enum: ['job_seeker', 'employer', 'admin'], 
    default: 'job_seeker' 
  },
  company: String,
  location: { 
    type: String, 
    enum: ['Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©', 'Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©', 'Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®', 'Ø§Ù„ØºØ±Ø¯Ù‚Ø©', 'Ø£Ø³ÙˆØ§Ù†', 'Ø§Ù„Ø£Ù‚ØµØ±', 'Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©', 'Ø§Ù„Ø³ÙˆÙŠØ³'] 
  },
  phone: { type: String, required: true },
  createdAt: { type: Date, default: Date.now }
});

// ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
UserSchema.pre('save', async function(next) {
  if (!this.isModified('password')) return next();
  this.password = await bcrypt.hash(this.password, 10);
  next();
});

// Ù…Ù‚Ø§Ø±Ù†Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
UserSchema.methods.matchPassword = async function(password) {
  return await bcrypt.compare(password, this.password);
};

module.exports = mongoose.model('User', UserSchema);
const mongoose = require('mongoose');

const JobSchema = new mongoose.Schema({
  title: { type: String, required: true },
  description: { type: String, required: true },
  company: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  location: { 
    type: String, 
    enum: ['Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©', 'Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©', 'Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®', 'Ø§Ù„ØºØ±Ø¯Ù‚Ø©', 'Ø£Ø³ÙˆØ§Ù†', 'Ø§Ù„Ø£Ù‚ØµØ±', 'Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©', 'Ø§Ù„Ø³ÙˆÙŠØ³'] 
  },
  sector: { 
    type: String, 
    enum: ['hotels', 'resorts', 'companies', 'factories'],
    required: true
  },
  createdAt: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Job', JobSchema);
const mongoose = require('mongoose');

const ApplicationSchema = new mongoose.Schema({
  job: { type: mongoose.Schema.Types.ObjectId, ref: 'Job' },
  applicant: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  resume: { type: String, required: true },
  coverLetter: String,
  appliedAt: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Application', ApplicationSchema);
const express = require('express');
const router = express.Router();
const User = require('../models/User');
const bcrypt = require('bcryptjs');

// Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
router.get('/register', (req, res) => {
  res.render('register', { error: null });
});

// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„
router.post('/register', async (req, res) => {
  try {
    const { name, email, password, role, company, location, phone } = req.body;
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
    let user = await User.findOne({ email });
    if (user) return res.render('register', { error: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹' });

    // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
    user = new User({
      name,
      email,
      password,
      role,
      company: role === 'employer' ? company : undefined,
      location: role === 'job_seeker' ? location : undefined,
      phone
    });

    await user.save();

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    req.session.user = {
      _id: user._id,
      name: user.name,
      email: user.email,
      role: user.role
    };

    res.redirect('/');
  } catch (err) {
    res.render('register', { error: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„' });
  }
});

// Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯Ø®ÙˆÙ„
router.get('/login', (req, res) => {
  res.render('login', { error: null });
});

// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
router.post('/login', async (req, res) => {
  try {
    const { email, password } = req.body;
    const user = await User.findOne({ email });
    
    if (!user || !(await user.matchPassword(password))) {
      return res.render('login', { error: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' });
    }

    req.session.user = {
      _id: user._id,
      name: user.name,
      email: user.email,
      role: user.role
    };

    res.redirect('/');
  } catch (err) {
    res.render('login', { error: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø®ÙˆÙ„' });
  }
});

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
router.get('/logout', (req, res) => {
  req.session.destroy();
  res.clearCookie('connect.sid');
  res.redirect('/');
});

module.exports = router;
const express = require('express');
const router = express.Router();
const Job = require('../models/Job');
const Application = require('../models/Application');
const User = require('../models/User');
const upload = multer({ dest: 'public/uploads/' });

// Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù
router.get('/', async (req, res) => {
  try {
    const jobs = await Job.find()
      .populate('company', 'name company')
      .sort({ createdAt: -1 });
    
    res.render('jobs', { 
      jobs, 
      user: req.session.user,
      sectors: [
        { value: 'hotels', name: 'Ø§Ù„ÙÙ†Ø§Ø¯Ù‚' },
        { value: 'resorts', name: 'Ø§Ù„Ù…Ù†ØªØ¬Ø¹Ø§Øª' },
        { value: 'companies', name: 'Ø§Ù„Ø´Ø±ÙƒØ§Øª' },
        { value: 'factories', name: 'Ø§Ù„Ù…ØµØ§Ù†Ø¹' }
      ]
    });
  } catch (err) {
    console.error(err);
    res.redirect('/');
  }
});

// Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ ÙˆØ¸ÙŠÙØ©
router.get('/apply/:id', async (req, res) => {
  try {
    const job = await Job.findById(req.params.id).populate('company', 'name');
    if (!job) return res.redirect('/jobs');
    
    res.render('apply', { 
      job, 
      user: req.session.user,
      error: null
    });
  } catch (err) {
    res.redirect('/jobs');
  }
});

// Ø­ÙØ¸ Ø·Ù„Ø¨ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…
router.post('/apply/:id', upload.single('resume'), async (req, res) => {
  try {
    const { coverLetter } = req.body;
    const job = await Job.findById(req.params.id);
    
    if (!job) return res.redirect('/jobs');
    
    const application = new Application({
      job: job._id,
      applicant: req.session.user._id,
      resume: req.file.path.replace('public/', ''),
      coverLetter
    });
    
    await application.save();
    res.redirect('/jobs?applied=true');
  } catch (err) {
    console.error(err);
    res.redirect(`/jobs/apply/${req.params.id}?error=Ø­Ø¯Ø« Ø®Ø·Ø£`);
  }
});

// Ù†Ø´Ø± ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø© (Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙÙ‚Ø·)
router.post('/new', async (req, res) => {
  if (!req.session.user || req.session.user.role !== 'employer') {
    return res.redirect('/login');
  }
  
  try {
    const job = new Job({
      ...req.body,
      company: req.session.user._id
    });
    await job.save();
    res.redirect('/jobs');
  } catch (err) {
    console.error(err);
    res.redirect('/jobs?error=Ø­Ø¯Ø« Ø®Ø·Ø£');
  }
});

module.exports = router;
const express = require('express');
const router = express.Router();
const Application = require('../models/Application');
const Job = require('../models/Job');
const User = require('../models/User');

// Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ ÙÙ‚Ø·)
router.get('/dashboard', async (req, res) => {
  if (!req.session.user || req.session.user.role !== 'admin') {
    return res.redirect('/login');
  }
  
  try {
    const applications = await Application.find()
      .populate('job', 'title')
      .populate('applicant', 'name email phone location')
      .sort({ appliedAt: -1 });
    
    res.render('admin/dashboard', { 
      applications,
      user: req.session.user 
    });
  } catch (err) {
    console.error(err);
    res.redirect('/');
  }
});

// Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
router.get('/applicant/:id', async (req, res) => {
  if (!req.session.user || req.session.user.role !== 'admin') {
    return res.redirect('/login');
  }
  
  try {
    const applicant = await User.findById(req.params.id);
    const applications = await Application.find({ applicant: req.params.id })
      .populate('job', 'title');
    
    res.render('admin/applicant', { 
      applicant,
      applications,
      user: req.session.user 
    });
  } catch (err) {
    console.error(err);
    res.redirect('/admin/dashboard');
  }
});

module.exports = router;
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nile Work Force - Ù…Ù†ØµØ© Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø§Ù„Ù…ØµØ±ÙŠØ©</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>Nile Work Force</h1>
      <nav>
        <% if (user) { %>
          <span>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <%= user.name %></span>
          <a href="/logout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
          <% if (user.role === 'employer') { %>
            <a href="/jobs#post-job">Ù†Ø´Ø± ÙˆØ¸ÙŠÙØ©</a>
          <% } %>
        <% } else { %>
          <a href="/login">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</a>
          <a href="/register">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a>
        <% } %>
      </nav>
    </div>
  </header>

  <main class="container">
    <% if (message) { %>
      <div class="alert success"><%= message %></div>
    <% } %>

    <section class="hero">
      <h2>Ø£ÙƒØ¨Ø± Ù…Ù†ØµØ© ØªÙˆØ¸ÙŠÙ ÙÙŠ Ù…ØµØ± Ù„Ù‚Ø·Ø§Ø¹Ø§Øª</h2>
      <div class="sectors">
        <div class="sector">Ø§Ù„ÙÙ†Ø§Ø¯Ù‚</div>
        <div class="sector">Ø§Ù„Ù…Ù†ØªØ¬Ø¹Ø§Øª</div>
        <div class="sector">Ø§Ù„Ø´Ø±ÙƒØ§Øª</div>
        <div class="sector">Ø§Ù„Ù…ØµØ§Ù†Ø¹</div>
      </div>
      <p>Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø±Ø³ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø§Ø­Ø«ÙŠÙ† Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„</p>
      
      <% if (!user) { %>
        <div class="cta">
          <a href="/register" class="btn primary">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ø§Ù‹</a>
        </div>
      <% } %>
    </section>

    <section id="post-job" class="post-job">
      <% if (user && user.role === 'employer') { %>
        <h2>Ù†Ø´Ø± ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©</h2>
        <form action="/jobs/new" method="POST">
          <div class="form-group">
            <label>Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
            <input type="text" name="title" required>
          </div>
          
          <div class="form-group">
            <label>Ø§Ù„Ù‚Ø·Ø§Ø¹</label>
            <select name="sector" required>
              <option value="hotels">Ø§Ù„ÙÙ†Ø§Ø¯Ù‚</option>
              <option value="resorts">Ø§Ù„Ù…Ù†ØªØ¬Ø¹Ø§Øª</option>
              <option value="companies">Ø§Ù„Ø´Ø±ÙƒØ§Øª</option>
              <option value="factories">Ø§Ù„Ù…ØµØ§Ù†Ø¹</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
            <select name="location" required>
              <option value="Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
              <option value="Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
              <option value="Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®">Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®</option>
              <option value="Ø§Ù„ØºØ±Ø¯Ù‚Ø©">Ø§Ù„ØºØ±Ø¯Ù‚Ø©</option>
              <option value="Ø£Ø³ÙˆØ§Ù†">Ø£Ø³ÙˆØ§Ù†</option>
              <option value="Ø§Ù„Ø£Ù‚ØµØ±">Ø§Ù„Ø£Ù‚ØµØ±</option>
              <option value="Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©">Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©</option>
              <option value="Ø§Ù„Ø³ÙˆÙŠØ³">Ø§Ù„Ø³ÙˆÙŠØ³</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Ø§Ù„ÙˆØµÙ</label>
            <textarea name="description" rows="5" required></textarea>
          </div>
          
          <button type="submit" class="btn primary">Ù†Ø´Ø± Ø§Ù„ÙˆØ¸ÙŠÙØ©</button>
        </form>
      <% } else if (user) { %>
        <p class="info">ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø´Ø± ÙˆØ¸Ø§Ø¦Ù ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ø³Ø¬Ù„Ø§Ù‹ ÙƒØ´Ø±ÙƒØ©. <a href="/logout">ØºÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨</a></p>
      <% } else { %>
        <p class="info">ÙŠØ¬Ø¨ <a href="/login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a> ÙƒØ´Ø±ÙƒØ© Ù„Ù†Ø´Ø± ÙˆØ¸Ø§Ø¦Ù</p>
      <% } %>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Nile Work Force - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </div>
  </footer>
</body>
      </html>
          <!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - Nile Work Force</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="auth-container">
    <div class="logo">Nile Work Force</div>
    
    <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
    
    <% if (error) { %>
      <div class="alert error"><%= error %></div>
    <% } %>
    
    <form action="/register" method="POST">
      <div class="form-group">
        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
        <input type="text" name="name" required>
      </div>
      
      <div class="form-group">
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" name="email" required>
      </div>
      
      <div class="form-group">
        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input type="password" name="password" required>
      </div>
      
      <div class="form-group">
        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input type="tel" name="phone" required pattern="[0-9]{11}" 
               title="ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…Ø§Ù‹ Ù…ØµØ±ÙŠØ§Ù‹">
      </div>
      
      <div class="form-group">
        <label>Ø§Ù„Ù†ÙˆØ¹</label>
        <select name="role" id="role" required>
          <option value="job_seeker">Ø¨Ø§Ø­Ø« Ø¹Ù† Ø¹Ù…Ù„</option>
          <option value="employer">Ø´Ø±ÙƒØ©/Ù…Ø¤Ø³Ø³Ø©</option>
        </select>
      </div>
      
      <div id="employer-fields" style="display:none;">
        <div class="form-group">
          <label>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>
          <input type="text" name="company">
        </div>
      </div>
      
      <div id="job-seeker-fields" style="display:none;">
        <div class="form-group">
          <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
          <select name="location">
            <option value="Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
            <option value="Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
            <option value="Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®">Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®</option>
            <option value="Ø§Ù„ØºØ±Ø¯Ù‚Ø©">Ø§Ù„ØºØ±Ø¯Ù‚Ø©</option>
            <option value="Ø£Ø³ÙˆØ§Ù†">Ø£Ø³ÙˆØ§Ù†</option>
            <option value="Ø§Ù„Ø£Ù‚ØµØ±">Ø§Ù„Ø£Ù‚ØµØ±</option>
            <option value="Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©">Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©</option>
            <option value="Ø§Ù„Ø³ÙˆÙŠØ³">Ø§Ù„Ø³ÙˆÙŠØ³</option>
          </select>
        </div>
      </div>
      
      <button type="submit" class="btn primary">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
      
      <p>Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="/login">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</a></p>
    </form>
  </div>

  <script>
    document.getElementById('role').addEventListener('change', function() {
      const employerFields = document.getElementById('employer-fields');
      const jobSeekerFields = document.getElementById('job-seeker-fields');
      
      if (this.value === 'employer') {
        employerFields.style.display = 'block';
        jobSeekerFields.style.display = 'none';
      } else {
        employerFields.style.display = 'none';
        jobSeekerFields.style.display = 'block';
      }
    });
  </script>
</body>
</html><!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Nile Work Force</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>Nile Work Force - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
      <a href="/logout" class="btn secondary">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
    </div>
  </header>

  <main class="container">
    <h2>Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</h2>
    
    <table class="applications-table">
      <thead>
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
          <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
          <th>Ø§Ù„Ù‚Ø·Ø§Ø¹</th>
          <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
          <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
          <th>Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</th>
        </tr>
      </thead>
      <tbody>
        <% applications.forEach(app => { %>
          <tr>
            <td><a href="/admin/applicant/<%= app.applicant._id %>"><%= app.applicant.name %></a></td>
            <td><%= app.applicant.email %></td>
            <td><%= app.job.title %></td>
            <td>
              <% 
                const sectors = {
                  'hotels': 'Ø§Ù„ÙÙ†Ø§Ø¯Ù‚',
                  'resorts': 'Ø§Ù„Ù…Ù†ØªØ¬Ø¹Ø§Øª',
                  'companies': 'Ø§Ù„Ø´Ø±ÙƒØ§Øª',
                  'factories': 'Ø§Ù„Ù…ØµØ§Ù†Ø¹'
                };
                %>
                <%= sectors[app.job.sector] %>
            </td>
            <td><%= app.job.location %></td>
            <td><%= new Date(app.appliedAt).toLocaleDateString('ar-EG') %></td>
            <td>
              <a href="/<%= app.resume %>" target="_blank" class="btn small">ØªÙ†Ø²ÙŠÙ„</a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </main>
</body>
</html>/* Reset Ø¹Ø§Ù… */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
  color: #333;
  background-color: #f5f5f5;
  direction: rtl;
}

.container {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
header {
  background-color: #0056b3;
  color: white;
  padding: 15px 0;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

header h1 {
  font-size: 1.5rem;
  margin: 0;
}

header nav {
  display: flex;
  gap: 15px;
}

header a {
  color: white;
  text-decoration: none;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.btn {
  display: inline-block;
  padding: 8px 15px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  transition: background-color 0.3s;
}

.btn.primary {
  background-color: #0056b3;
  color: white;
}

.btn.primary:hover {
  background-color: #004494;
}

.btn.secondary {
  background-color: #6c757d;
  color: white;
}

.btn.small {
  padding: 5px 10px;
  font-size: 0.8rem;
}

/* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
.form-group {
  margin-bottom: 15px;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

input, select, textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
}

/* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  background: white;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

th, td {
  padding: 12px 15px;
  text-align: right;
  border-bottom: 1px solid #ddd;
}

th {
  background-color: #0056b3;
  color: white;
}

tr:hover {
  background-color: #f1f1f1;
}

/* Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
.alert {
  padding: 10px 15px;
  margin-bottom: 20px;
  border-radius: 4px;
}

.alert.success {
  background-color: #d4edda;
  color: #155724;
}

.alert.error {
  background-color: #f8d7da;
  color: #721c24;
}

/* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
.hero {
  text-align: center;
  padding: 40px 0;
  background: white;
  border-radius: 8px;
  margin: 20px 0;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.sectors {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
  margin: 20px 0;
}

.sector {
  background: #e9ecef;
  padding: 8px 15px;
  border-radius: 20px;
  font-weight: bold;
}

.post-job {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-top: 30px;
}

/* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© */
.auth-container {
  max-width: 500px;
  margin: 50px auto;
  padding: 30px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.logo {
  text-align: center;
  font-size: 2rem;
  color: #0056b3;
  margin-bottom: 20px;
  font-weight: bold;
}

/* Ø§Ù„ÙÙˆØªØ± */
footer {
  background: #333;
  color: white;
  text-align: center;
  padding: 20px 0;
  margin-top: 40px;
}

/* Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
@media (max-width: 768px) {
  header nav {
    flex-direction: column;
    gap: 10px;
  }
  
  .sectors {
    flex-direction: column;
  }
}
