<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nile Work Force | التوظيف الاحترافي للفنادق والمصانع والشركات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";
        
        // استبدل بالـ config الحقيقي هنا
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",  // <--- غير ده بالحقيقي من Firebase Console
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        
        try {
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
            const storage = getStorage(app);
            console.log('✅ Firebase مُعد بنجاح');
            window.db = db;
            window.storage = storage;
        } catch (error) {
            console.error('❌ خطأ في Firebase:', error);
            alert('خطأ في إعداد Firebase. غير الـ config وجرب تاني.');
        }
    </script>
    
    <style>
        /* الستايلات زي ما هي، بس للاختبار: أضفت لون أزرق لو الصفحة شغالة */
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #e6f0ff 100%);
            color: #000; /* عشان النصوص تظهر */
        }
    </style>
</head>
<body>
    <!-- باقي الـ HTML زي ما هو (الـ header, hero, sections, form, dashboard, footer) -->
    
    <!-- للاختبار: أضف ده في البداية عشان تشوف إن الـ HTML شغال -->
    <h1 style="text-align: center; color: red;">Testing - لو شايف ده، الصفحة شغالة بس Firebase مش مُعد</h1>
    
    <script type="module">
        // باقي السكريبت زي ما هو، مع try-catch في الـ submit و loadDashboard
        document.getElementById('jobApplicationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            try {
                // الكود زي ما هو
            } catch (error) {
                console.error('خطأ في الإرسال:', error);
                showMessage('خطأ في الإرسال. تأكد من Firebase.', 'error');
            }
        });
        
        async function loadDashboard() {
            try {
                // الكود زي ما هو
            } catch (error) {
                console.error('خطأ في التحميل:', error);
                alert('خطأ في Firebase. غير الـ config.');
            }
        }
        
        // باقي الوظائف
    </script>
</body>
</html>
